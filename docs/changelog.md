# Changelog

Все значимые изменения в проекте будут документированы в этом файле.

Формат основан на [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
и этот проект придерживается [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [2025-08-15] - Инициализация проекта

### Добавлено
- Создана базовая структура проекта
- Добавлена документация проекта (project.md)
- Создан трекер задач (tasktracker.md)
- Настроена структура папок: docs/, src/, examples/
- Определены основные компоненты архитектуры
- Спланирована интеграция OverpoweredJS с Яндекс Метрикой

### Добавлено
- Основной класс интеграции MetrikaIntegration.js
- Утилиты валидации данных DataValidator.js
- Базовый пример использования (basic-integration.html)
- Расширенный пример с полным функционалом (advanced-integration.html)
- Подробная документация и README
- Система безопасной передачи данных с фильтрацией

### Изменено
- Структура проекта расширена дополнительными модулями
- Добавлена поддержка различных сценариев использования

## [2025-08-15] - Обновление для реального API

### Добавлено
- Интеграция с реальным OverpoweredJS API (opjs)
- Логика отправки данных один раз за визит (oncePerVisit)
- Проверка через sessionStorage для предотвращения повторной отправки
- Новый параметр конструктора overpoweredApiKey
- Пример real-integration.html с полным функционалом
- Простой пример simple-usage.html для быстрого старта

### Изменено
- Конструктор MetrikaIntegration теперь принимает API ключ OverpoweredJS
- Метод getOverpoweredJSData() использует реальное API opjs()
- Улучшена обработка результатов отправки (добавлен флаг skipped)
- Обновлена документация с правильными примерами использования

### Исправлено
- Корректная интеграция с CDN OverpoweredJS
- Правильная проверка доступности API opjs
- Логика предотвращения повторной отправки в рамках визита

### Планируется
- Оптимизация производительности
- Добавление поддержки пакетной отправки данных
- Расширенные настройки фильтрации данных
